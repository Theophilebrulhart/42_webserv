<!DOCTYPE html>
<html>
<head>
    <title>Pelops</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            flex: 1;
            background-color: #2B2B2B;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            text-align: center;
            width: 100%;
            color: #f1f1f1;
        }
        
        h2 {
            color: #f1f1f1;
        }
        
        form {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        input[type="file"] {
            display: block;
            margin-bottom: 10px;
        }
        
        button {
            padding: 10px 20px;
            background-color: #ac3722;
            color: #fff;
            border: none;
            border-radius: 3px;
            font-size: 16px;
            cursor: pointer;
        }
        
        .image-wrapper {
            display: flex;
            justify-content: space-between;
            max-width: 400px;
            width: 100%;
            margin-bottom: 20px;
        }
        
        .image-wrapper img {
            width: 48%;
            max-height: 150px;
            object-fit: cover;
        }
        
        .side-image {
            width: 200px;
            height: 200px;
            object-fit: cover;
            margin: 10px;
            filter: grayscale(100%);
        }
        
        .uploaded-image {
            width: 100%;
            max-height: 400px;
            object-fit: contain;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>PELOPS</h1>
    
    <div class="image-wrapper">
        <img class="side-image" src="https://images.unsplash.com/photo-1526506118085-60ce8714f8c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80" alt="Fitness" title="Fitness">
        <img class="side-image" src="https://images.unsplash.com/photo-1590227632180-80a3bf110871?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2553&q=80" alt="Basketball" title="Basketball">
    </div>
    
    <h2>Choisissez une image</h2>
    <form id="upload-form" action="http://127.0.0.1/test.html" method="post" enctype="multipart/form-data">
        <input type="file" id="image-input" name="image" accept="image/*" required>
        <button type="submit">Telecharger</button>
    </form>
    
    <h2>Supprimer l'image</h2>
    <button id="delete-button" onclick="deleteImage()">Supprimer</button>
    
    <h2>Images téléchargées</h2>
    <ul id="image-list"></ul>
    
    <img class="uploaded-image" id="uploaded-image" src="" alt="Votre future image">

    <script>
        var imageList = []; // Liste des noms d'images téléchargées
        
        function deleteImage() {
            var xhr = new XMLHttpRequest();
            xhr.open('DELETE', 'http://127.0.0.1/test.html', true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    alert('L\'image a été supprimée avec succès.');
                } else if (xhr.readyState === 4 && xhr.status !== 200) {
                    alert('Une erreur s\'est produite lors de la suppression de l\'image.');
                }
            };
            xhr.send();
        }
        
        var imageInput = document.getElementById('image-input');
        var uploadedImage = document.getElementById('uploaded-image');
        var imageListElement = document.getElementById('image-list');
        
        imageInput.addEventListener('change', function(event) {
            var file = event.target.files[0];
            var reader = new FileReader();
            
            reader.onload = function(event) {
                uploadedImage.src = event.target.result;
                
                // Ajouter le nom de l'image à la liste
                imageList.push(file.name);
                
                // Mettre à jour la liste des images affichée sur la page
                updateImageList();
            };
            
            reader.readAsDataURL(file);
        });
        
        function updateImageList() {
            // Effacer la liste actuelle
            imageListElement.innerHTML = '';
            
            // Parcourir la liste des noms d'images et créer les éléments de liste
            imageList.forEach(function(imageName) {
                var listItem = document.createElement('li');
                listItem.textContent = imageName;
                imageListElement.appendChild(listItem);
            });
        }
        
        // Remplir la liste avec 10 images aléatoires
        for (var i = 0; i < 10; i++) {
            var randomImageIndex = Math.floor(Math.random() * 1000); // Index aléatoire entre 0 et 999
            var randomImageUrl = 'https://picsum.photos/200/200?random=' + randomImageIndex;
            imageList.push(randomImageUrl);
        }
        
        // Mettre à jour la liste affichée sur la page
        updateImageList();
    </script>
</body>
</html>
